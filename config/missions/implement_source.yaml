# Mission to implement approved sources from GitHub Issues.

id: implement_source
version: 1
metadata:
  owner: copilot-orchestrator
  created_at: 2025-12-25
  summary_tooling: source-implementation

goal: |
  Implement approved sources by registering them in the knowledge graph
  and closing the implementation Issue.
  
  Triggered by:
  1. Issues with `source-approved` label assigned to copilot
  2. Issues created by the curate_sources mission after /approve-source command
  
  Actions:
  1. Call `get_issue_details` to read the Issue and extract:
     - Source URL (from issue body)
     - Source name (from issue title or body)
     - Discussion number (from issue body, e.g., "Discussion #15")
     - Who approved the source (from issue body)
  2. Call `implement_approved_source` with the extracted details
     - This registers the source with status="active" (approved and ready for monitoring)
     - Do NOT use register_source - that tool is for unapproved sources
  3. Call `add_discussion_comment` to update the original Discussion with "Implementation Complete"
  4. Call `close_issue` with an implementation summary comment

constraints:
  - "Only process Issues with `source-approved` label"
  - "MUST use implement_approved_source tool - this sets status='active'"
  - "Do NOT use register_source - that sets derived sources to pending_review"
  - "Verify the source is not already registered before proceeding"
  - "Track both proposal_discussion and implementation_issue in SourceEntry"
  - "Update Discussion to reflect final status"

success_criteria:
  - Approved sources appear in the registry with status="active"
  - SourceEntry includes proposal_discussion and implementation_issue numbers
  - Discussion is updated with implementation status
  - Issue is closed with summary comment

max_steps: 8
allowed_tools:
  - get_issue_details
  - get_issue_comments
  - post_comment
  - close_issue
  - get_discussion
  - add_discussion_comment
  - implement_approved_source
  - get_source
  - list_sources
  - update_source_status
requires_approval: false
